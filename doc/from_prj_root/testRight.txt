                                Text Templates. (с) Александр Мартынов, 2005 год
                      ----------------------------------------------------------

        Текстовые шаблоны - плагин расширения файлового менеджера Far (с) Eugene
                                                                          Roshal

           В данном ПО используются исходные тексты Андрея Мартынова (для чтения
        конфигурационных xml файлов) - http://www.rsdn.ru/article/xml/xmlcpp.xml
  Данное ПО поставляется "как есть". Автор не несет ответственности за возможный
               убыток, прямо или косвенно связанный с использованием данного ПО.


                                  1. Системные требования ------------------------

       Для работы плагин TextTP требует 1) Far версии не ниже 1.70 beta 5 (build
       1634) 1) Internet Explorer 4.0 или выше 2) Динамическая библиотека msxml2


                                              Текстовые шаблоны ------------------

                  При использовании параметров в теле шаблона можно использовать
      предопределенные имена параметров или задавать их произвольно. В последнем
           случае при обработке шаблона будет произведен запрос на ввод значений
                                                        параметров с клавиатуры.

     При вставке шаблона позиция курсора после вставки определяется символом '@'
               в теле шаблона (при необходимости вставки символа '@' его следует
                                                                продублировать).

                                    Плагин может работать в двух основных режимах:

                           1) в режиме ввода имени шаблона в отдельном поле ввода;

     2) в режиме ввода имени шаблона в редактируемом файле с последующей заменой
                                                      имени шаблона на его тело.

             При вводе имени шаблона в поле ввода могут использоваться два режима:

     1) режим немедленного завершения ввода и вставки шаблона, если плагин может
  однозначно идентифицировать шаблон по вводимому имени (по начальным символам);

         2) режим автодополнения введенного текста, если плагин может однозначно
    идентифицировать шаблон по вводимому имени (по начальным символам). В данном
     режиме для вставки тела шаблона требуется подтвердить ввод нажатием клавиши
                                                                        [Enter].

          Плагин позволяет использовать пользовательские настройки для отдельных
                                                                      каталогов.

                Выделение блоков строк работает инкрементально в соответствующем
      направлении. Если нет предыдущего выделения, то выделяется блок, в котором
       стоит курсор или блок, расположенный не дальше, чем 3 строки от курсора в
                                                    соответствующем направлении.

        Выделить блок кода - выделяет блок кода Выделить блок кода и заголовок -
                                            выделяет блок кода и заголовок блока

       Выделение блоков кода производиться инкрементально - если какой-либо блок
                        уже выделен, то повторный вызов выделит объемлющий блок.

    Для установки плагина следует: 1) разархивировать архив TextTP.rar в каталог
         "Far\Plugins\Editor\TextTP" (допускается установка в другой каталог, но
      следует изменит путь в .reg файлах, см. ниже). 2) Зарегистрировать клавиши
        быстрого доступа к функциям плагина в меню плагинов редактора. Для этого
        следует запустить редактор реестра regedit.exe и произвести импорт файла
    "TextTP-menu-hk.reg" (меню "Реестр\Импорт файла реестра"). При необходимости
      следует изменить путь к плагину и клавишу быстрого доступа в меню плагинов
    редактора (по умолчанию используются клавиши 't' и 'i'). 3) Зарегистрировать
       макрокоманду для быстрого вызова функции code snippets. Для этого следует
  импортировать файл реестра AltW-hotkey.reg. При необходимости следует изменить
  путь к плагину и клавишу вызова макрокоманды. 4) Зарегистрировать макрокоманды
           для вызова функции изменения регистра символов, расположенных в файле
     CharCase.reg. Для корректной работы макросов необходим плагин "EditCase", в
           меню плагинов (F11) ему должна быть назначена горячая клавиша 'c'. 5)
           Зарегистрировать макрокоманды для вызова функции коментирования кода,
       расположенных в файле comment.reg. 6) Перезапустить ф/м Far. 7) Проверить
     работоспособность плагина: создать файл с любым расширением; вызвать плагин
  нажатием Alt-W (или другой комбинации клавиш, зарегистрированной на предыдущем
  шаге); в поле ввода ввести имя 'mtest' и убедиться, что произошла вставка тела
     шаблона (данный шаблон вставляет текст с примерами использования встроенных
                                                           параметров шаблонов).

    Конфигурация плагина хранится в файле texttp.xml, который расположен в одном
   каталоге с исполняемым модулем плагина. Дополнительные конфигурационные файлы
  подключаются тэгом <include>. Атрибут 'file' задает имя подключаемого файла. В
    приведенном ниже примере подключается конфигурационный файл c-shortcuts.xml.

    Описания, сделанные последними, имеют приоритет (перезаписывают) аналогичные
         описания, сделанные ранее. Никаких предупреждений не выводится, поэтому
                                следует быть внимательным при настройке плагина.

          Все сокращенные последовательности ввода (далее шорткаты, от shortcut)
     применяются только для своего типа файлов, который указывается при описании
        шортката. Типы файлов, в свою очередь, описываются в секции <file-types>
                                                             тэгами <file-type>:

    Атрибут 'type' задает имя типа файлов, используемое в дальнейшем. В атрибуте
           'extention' через запятую (',') перечисляются расширения имени файла,
     используемые с данным типом (семейством типов) файлов. Следует использовать
        точку ('.') перед символами расширения. Одиночная точка (без последующих
  символов) обозначает файл без расширения. Не следует использовать одно и то же
   расширении в описании различных типов. В этом случае файл будет определен как
                                         принадлежащий к типу, описанному позже.

     В атрибуте 'extention' поддерживается задание маски имени файла. Символ '*'
       обозначает любое число любых символов, символ '?' - однократное вхождение
     любого символа. Символ '*' можно использовать как в конце, так и в середине
       маски (последняя ситуация не тестировалась исчерпывающе и может содержать
     ошибки в реализации). Ниже приведено несколько тестовых случаев, на которых
                                    проверялась корректность сравнения по маске:

    Шаблоны могут быть как описаны в конфигурационном файле, так и содержаться в
      отдельных файлах. Описания шаблонов в конфигурационном файле содержаться в
                                                             секции <templates>:

     Атрибут 'name' используется для последующих ссылок на тело шаблона. Следует
    быть внимательным при именовании шаблонов, и не допускать одинаковых имен. В
       этом случае будет использоваться последнее определение шаблона. Это может
            использоваться для переопределения отдельных шаблонов из стандартной
   конфигурации и настройке их под конкретные нужды без модификации оригинальных
                                                        конфигурационных файлов.

    Символ '@' в теле шаблона задает позицию, на которую будет установлен курсор
  после вставки шаблона. Курсор будет установлен на позицию первого встреченного
    символа '@'. Для вставки данного символа в текст его следует продублировать.

     В описании тела шаблона начальные и завершающие пробельные символы, а также
    переводы строк, игнорируются, согласно правилам xml. Для сохранения разметки
                      следует использовать секции CDATA в описании тела шаблона.
